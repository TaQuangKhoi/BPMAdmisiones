{
  "modelVersion" : "2.3",
  "previousArtifactVersion" : "2.2",
  "id" : "SesionesAdministrador",
  "name" : "SesionesAdministrador",
  "lastUpdate" : 1679842898536,
  "rows" : [
    [
      {
        "type" : "container",
        "dimension" : {
          "xs" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "expression",
            "value" : "isCitasCanceladas"
          },
          "repeatedCollection" : {
            "type" : "variable",
            "value" : ""
          }
        },
        "reference" : "3eef159e-b43d-4472-857f-f3c22bd783c8",
        "hasValidationError" : false,
        "id" : "pbContainer",
        "rows" : [
          [
            {
              "type" : "container",
              "dimension" : {
                "xs" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "repeatedCollection" : {
                  "type" : "variable",
                  "value" : ""
                }
              },
              "reference" : "67952bf2-a154-43dd-bb28-6deec15fdc80",
              "hasValidationError" : false,
              "id" : "pbContainer",
              "rows" : [
                [
                  {
                    "type" : "component",
                    "dimension" : {
                      "xs" : 12,
                      "sm" : 12,
                      "md" : 12,
                      "lg" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "text" : {
                        "type" : "interpolation",
                        "value" : "Agendar sesiones"
                      },
                      "level" : {
                        "type" : "constant",
                        "value" : "Level 2"
                      },
                      "alignment" : {
                        "type" : "constant",
                        "value" : "center"
                      },
                      "allowHTML" : {
                        "type" : "constant",
                        "value" : true
                      }
                    },
                    "reference" : "29ba16d9-cd80-46a4-9012-bf8b46c8b519",
                    "hasValidationError" : false,
                    "id" : "pbTitle"
                  }
                ],
                [
                  {
                    "type" : "component",
                    "dimension" : {
                      "xs" : 12,
                      "sm" : 12,
                      "md" : 12,
                      "lg" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "labelHidden" : {
                        "type" : "constant",
                        "value" : true
                      },
                      "label" : {
                        "type" : "interpolation",
                        "value" : "Default label"
                      },
                      "labelPosition" : {
                        "type" : "constant",
                        "value" : "top"
                      },
                      "labelWidth" : {
                        "type" : "constant",
                        "value" : 4
                      },
                      "allowHTML" : {
                        "type" : "constant",
                        "value" : true
                      },
                      "text" : {
                        "type" : "interpolation",
                        "value" : "<hr>"
                      },
                      "alignment" : {
                        "type" : "constant",
                        "value" : "left"
                      }
                    },
                    "reference" : "0d8b4682-c853-4238-9818-2ba529e5763d",
                    "hasValidationError" : false,
                    "id" : "pbText"
                  }
                ]
              ]
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "xs" : 12,
                "sm" : 12,
                "md" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "expression",
                  "value" : "lstCampus.length==1"
                },
                "disabled" : {
                  "type" : "expression",
                  "value" : "campus_selected !=null"
                },
                "required" : {
                  "type" : "constant",
                  "value" : false
                },
                "labelHidden" : {
                  "type" : "constant",
                  "value" : false
                },
                "label" : {
                  "type" : "interpolation",
                  "value" : "Campus:"
                },
                "labelPosition" : {
                  "type" : "constant",
                  "value" : "top"
                },
                "labelWidth" : {
                  "type" : "constant",
                  "value" : 4
                },
                "placeholder" : {
                  "type" : "interpolation",
                  "value" : "Seleccionar Campus"
                },
                "availableValues" : {
                  "type" : "expression",
                  "value" : "lstCampus"
                },
                "displayedKey" : {
                  "type" : "constant",
                  "value" : "descripcion"
                },
                "returnedKey" : {
                  "type" : "constant"
                },
                "value" : {
                  "type" : "variable",
                  "value" : "campus_selected"
                },
                "allowHTML" : {
                  "type" : "constant",
                  "value" : true
                }
              },
              "reference" : "03a87f30-7168-479f-9536-2922eb7178f4",
              "hasValidationError" : false,
              "id" : "pbSelect"
            }
          ],
          [
            {
              "type" : "container",
              "dimension" : {
                "xs" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "expression",
                  "value" : "psicologosHorarios!='principal'"
                },
                "repeatedCollection" : {
                  "type" : "variable",
                  "value" : ""
                }
              },
              "reference" : "6faf7c42-289a-4a7e-9ad5-f4e868a9cbac",
              "hasValidationError" : false,
              "id" : "pbContainer",
              "rows" : [
                [
                  {
                    "type" : "component",
                    "dimension" : {
                      "xs" : 12,
                      "sm" : 12,
                      "md" : 12,
                      "lg" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "rows" : {
                        "type" : "expression",
                        "value" : "paletteColors"
                      }
                    },
                    "reference" : "cc6d450b-b8e7-4e50-b1ad-91243766e247",
                    "hasValidationError" : false,
                    "id" : "customPaletteColor"
                  }
                ],
                [
                  {
                    "type" : "component",
                    "dimension" : {
                      "xs" : 12,
                      "md" : 12,
                      "lg" : 12,
                      "sm" : 12
                    },
                    "propertyValues" : {
                      "cssClasses" : {
                        "type" : "constant",
                        "value" : ""
                      },
                      "hidden" : {
                        "type" : "constant",
                        "value" : false
                      },
                      "events" : {
                        "type" : "expression",
                        "value" : "jsonFecha.lstResultado"
                      },
                      "ipMachine" : {
                        "type" : "constant",
                        "value" : "{{ipMachine}}"
                      },
                      "getRecargarCitas" : {
                        "type" : "variable",
                        "value" : "jsonFecha.lstResultado"
                      },
                      "ipBonita" : {
                        "type" : "expression",
                        "value" : "bonitaIp"
                      },
                      "idUsuario" : {
                        "type" : "variable",
                        "value" : "userData.user_id"
                      },
                      "getDatos" : {
                        "type" : "expression",
                        "value" : "jsonFecha.lstResultado"
                      },
                      "lstSalas" : {
                        "type" : "variable",
                        "value" : "jsonSala.lstResultado"
                      },
                      "horaServidor" : {
                        "type" : "expression",
                        "value" : "getHoraServidor.lstResultado[0]"
                      },
                      "urlRest" : {
                        "type" : "variable",
                        "value" : "ipMachine+\"SIGEMERREST/rest/CalendarioServices/createReport\""
                      },
                      "idIframe" : {
                        "type" : "variable",
                        "value" : "\"ifremeCustom\""
                      },
                      "getEstatusAudiencia" : {
                        "type" : "expression",
                        "value" : "jsonEstatusAudiencia.lstResultado"
                      },
                      "ipMachine1" : {
                        "type" : "variable",
                        "value" : "ipMachine"
                      },
                      "lstTipoAudiencia" : {
                        "type" : "variable",
                        "value" : "lstTipoAudiencia.lstResultado"
                      },
                      "campusSelected" : {
                        "type" : "variable",
                        "value" : "campus_selected"
                      }
                    },
                    "reference" : "16731f5a-bbe4-4235-8820-a2e2dfde9b45",
                    "hasValidationError" : false,
                    "id" : "customCalendarAdministrativo"
                  }
                ]
              ]
            }
          ],
          [
            {
              "type" : "component",
              "dimension" : {
                "xs" : 12,
                "sm" : 12,
                "md" : 12,
                "lg" : 12
              },
              "propertyValues" : {
                "cssClasses" : {
                  "type" : "constant",
                  "value" : ""
                },
                "hidden" : {
                  "type" : "expression",
                  "value" : "campus_selected ==null"
                },
                "campusSelected" : {
                  "type" : "variable",
                  "value" : "campus_selected"
                }
              },
              "reference" : "22089c57-4f8a-45f2-8e0b-37f78fad08b1",
              "hasValidationError" : false,
              "id" : "customPsicologosOcupados"
            }
          ]
        ]
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : true
          },
          "disabled" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Psicólogos horarios"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          },
          "buttonStyle" : {
            "type" : "constant",
            "value" : "primary"
          },
          "value" : {
            "type" : "variable",
            "value" : "psicologosHorarios"
          },
          "valor" : {
            "type" : "constant",
            "value" : "horarios"
          }
        },
        "reference" : "dcbf51f9-1024-48c3-9351-0cdf2c9fe8ab",
        "hasValidationError" : false,
        "id" : "customBtnValorString"
      }
    ],
    [
      {
        "type" : "component",
        "dimension" : {
          "xs" : 12,
          "sm" : 12,
          "md" : 12,
          "lg" : 12
        },
        "propertyValues" : {
          "cssClasses" : {
            "type" : "constant",
            "value" : ""
          },
          "hidden" : {
            "type" : "constant",
            "value" : true
          },
          "disabled" : {
            "type" : "constant",
            "value" : false
          },
          "label" : {
            "type" : "interpolation",
            "value" : "Regresar"
          },
          "alignment" : {
            "type" : "constant",
            "value" : "left"
          },
          "buttonStyle" : {
            "type" : "constant",
            "value" : "info"
          },
          "value" : {
            "type" : "variable",
            "value" : "psicologosHorarios"
          },
          "valor" : {
            "type" : "constant",
            "value" : "principal"
          }
        },
        "reference" : "24c725fa-8e4d-48a9-bea1-ade245b9caed",
        "hasValidationError" : false,
        "id" : "customBtnValorString"
      }
    ]
  ],
  "assets" : [
    {
      "id" : "505b6c23-49be-4703-9756-a8d100065b4d",
      "name" : "style.css",
      "type" : "css",
      "order" : 6,
      "external" : false
    },
    {
      "id" : "4252976a-3de9-439e-a1a0-d446ab091dfd",
      "name" : "locale_es.js",
      "type" : "js",
      "order" : 4,
      "external" : false
    },
    {
      "id" : "02870c62-a4bd-460b-8719-1e088f2c2287",
      "name" : "notify.js",
      "type" : "js",
      "order" : 7,
      "external" : false
    },
    {
      "id" : "a6df95fa-921c-4ed0-a56e-38ba7c54e10f",
      "name" : "anahuac_custom_styles (1).css",
      "type" : "css",
      "order" : 9,
      "external" : false
    },
    {
      "id" : "196be2b2-0b5a-46ab-b043-28673d806b82",
      "name" : "panel-audiencias-pendientes (2).css",
      "type" : "css",
      "order" : 5,
      "external" : false
    },
    {
      "id" : "d62a9c52-4a44-48b1-a15b-4a01da2df6ba",
      "name" : "locale_recurring_es.js",
      "type" : "js",
      "order" : 3,
      "external" : false
    },
    {
      "id" : "3bb3b493-3ca5-4cdc-a191-1d2ecaddf5fa",
      "name" : "ui-bootstrap-tpls-0.13.0.min.js",
      "type" : "js",
      "order" : 8,
      "external" : false
    }
  ],
  "inactiveAssets" : [ ],
  "variables" : {
    "catPeriodo_selected" : {
      "type" : "json",
      "value" : [
        "{\r",
        "\t\"persistenceId\": 0,\r",
        "\t\"persistenceId_string\": \"0\",\r",
        "\t\"persistenceVersion\": 0,\r",
        "\t\"persistenceVersion_string\": \"0\",\r",
        "\t\"campus\": null,\r",
        "\t\"nombreCampus\":\"\",\r",
        "\t\"descripcion\": \"\",\r",
        "\t\"fechaCreacion\": \"\",\r",
        "\t\"fechaImportacion\":\"\",\r",
        "\t\"isEliminado\": false,\r",
        "\t\"usuarioBanner\": \"\",\r",
        "\t\"isEnabled\":true,\r",
        "\t\"clave\": \"\",\r",
        "\t\"todelete\": false,\r",
        "\t\"isCuatrimestral\":false\r",
        "}"
      ],
      "exposed" : false
    },
    "catPeriodo_selectedNR" : {
      "type" : "constant",
      "exposed" : false
    },
    "countCatPeriodo" : {
      "type" : "url",
      "value" : [
        "../API/bdm/businessData/com.anahuac.catalogos.CatPeriodo?q=countForFind&p=0&c=10"
      ],
      "exposed" : false
    },
    "editable" : {
      "type" : "constant",
      "value" : [
        "tabla"
      ],
      "exposed" : false
    },
    "final" : {
      "type" : "constant",
      "value" : [
        "10"
      ],
      "exposed" : false
    },
    "formOutput" : {
      "type" : "expression",
      "value" : [
        "return {",
        "    lstCatPeriodoInput:$data.lstCatPeriodo",
        "}"
      ],
      "exposed" : false
    },
    "formOutputBorrar" : {
      "type" : "expression",
      "value" : [
        "return {\"lstCatPeriodoInput\":$data.lstCatPeriodoBorrar}"
      ],
      "exposed" : false
    },
    "inicio" : {
      "type" : "constant",
      "value" : [
        "0"
      ],
      "exposed" : false
    },
    "lstCatPeriodo" : {
      "type" : "expression",
      "value" : [
        "var lstResultado = [];",
        "",
        "lstResultado.push($data.catPeriodo_selected);",
        "",
        "return lstResultado;"
      ],
      "exposed" : false
    },
    "lstCatPeriodoBorrar" : {
      "type" : "expression",
      "value" : [
        "var lstResultado = [];",
        "",
        "lstResultado.push($data.catPeriodo_selectedNR);",
        "",
        "return lstResultado;"
      ],
      "exposed" : false
    },
    "processAgregarData" : {
      "type" : "url",
      "value" : [
        "../API/bpm/process?c=10&p=0&f=name=Agregar%20Periodo"
      ],
      "exposed" : false
    },
    "processEditData" : {
      "type" : "url",
      "value" : [
        "../API/bpm/process?c=1000&p=0&f=name=Editar%20Periodo"
      ],
      "exposed" : false
    },
    "userData" : {
      "type" : "url",
      "value" : [
        "../API/system/session/unusedId"
      ],
      "exposed" : false
    },
    "formOutputAgregar" : {
      "type" : "json",
      "value" : [
        "{\r",
        "    \"lstCatPeriodoInput\": [\r",
        "        {\r",
        "            \"campus\": null,\r",
        "            \"nombreCampus\":\"\",\r",
        "            \"descripcion\": \"\", \r",
        "            \"isEliminado\": false, \r",
        "            \"usuarioBanner\": \"\", \r",
        "            \"fechaImportacion\":null,\r",
        "            \"clave\": \"\", \r",
        "            \"fechaCreacion\": null,\r",
        "            \"isEnabled\":true,\r",
        "            \"isCuatrimestral\":false\r",
        "        }\r",
        "    ]\r",
        "}"
      ],
      "exposed" : false
    },
    "cargar_datos" : {
      "type" : "expression",
      "value" : [
        "    if($data.lstCampus.length==1){",
        "        $data.campus_selected=$data.lstCampus[0]",
        "    }"
      ],
      "exposed" : false
    },
    "lstCatCampus" : {
      "type" : "businessdata",
      "value" : [
        "{\"displayValue\":\"getCatCampus [com.anahuac.catalogos.CatCampus]\",\"businessObjectName\":\"undefined\",\"query\":{\"name\":\"getCatCampus\",\"displayName\":\"getCatCampus\"},\"id\":\"com.anahuac.catalogos.CatCampus\",\"filters\":[],\"pagination\":{\"p\":\"0\",\"c\":\"999\"}}"
      ],
      "exposed" : false
    },
    "lstCampus" : {
      "type" : "expression",
      "value" : [
        "var resultado = [];\r",
        "\r",
        "for(var x in $data.lstCampusUsuario){\r",
        "    for(var index in $data.lstCatCampus){\r",
        "        if($data.lstCampusUsuario[x].descripcion === $data.lstCatCampus[index].descripcion){\r",
        "            $data.lstCatCampus[index].valor = $data.lstCampusUsuario[x].valor;\r",
        "            resultado.push($data.lstCatCampus[index]);\r",
        "        }\r",
        "    }\r",
        "}\r",
        "if($data.lstCampusUsuario.length == 1){\r",
        "$data.campus_selected = resultado[0];\r",
        "}\r",
        "return resultado;"
      ],
      "exposed" : false
    },
    "lstMembership" : {
      "type" : "url",
      "value" : [
        "../API/identity/membership?f=user_id={{userData.user_id}}&d=role_id&d=group_id&c=100&p=0"
      ],
      "exposed" : false
    },
    "lstCampusByUser" : {
      "type" : "expression",
      "value" : [
        "var resultado=[];\r",
        "\r",
        "for(var x in $data.lstMembership){\r",
        "    if($data.lstMembership[x].group_id.name.indexOf(\"CAMPUS\") != -1){\r",
        "        resultado.push($data.lstMembership[x].group_id.name);\r",
        "    }\r",
        "}\r",
        "\r",
        "return resultado;"
      ],
      "exposed" : false
    },
    "campus_selected" : {
      "type" : "json",
      "value" : [
        "{",
        "\"clave\": \"\",",
        "\"descripcion\": \"\",",
        "\"fechaCreacion\": \"\",",
        "\"fechaImplementacion\": \"\",",
        "\"id\": \"\",",
        "\"isEliminado\": null,",
        "\"isEnabled\": null,",
        "\"nombreDocumento\": \"\",",
        "\"persistenceId\": 0,",
        "\"persistenceId_string\": \"\",",
        "\"persistenceVersion\": 0,",
        "\"persistenceVersion_string\": \"\",",
        "\"urlAutorDatos\": \"\",",
        "\"urlAvisoPrivacidad\": \"\",",
        "\"urlDatosVeridicos\": \"\",",
        "\"usuarioBanner\": \"\"",
        "}"
      ],
      "exposed" : false
    },
    "agregar" : {
      "type" : "expression",
      "value" : [
        "if($data.campus_selected.clave === undefined||$data.campus_selected.clave === null||$data.campus_selected.clave.trim()===\"\"){",
        "     return true;",
        " }else{",
        "     var agregar = true;",
        "     for (let index = 0; index < $data.datatoFilter.lstFiltro.length; index++) {",
        "\t\tconst element = $data.datatoFilter.lstFiltro[index];",
        "\t\tif(element.columna==\"CAMPUS\"){",
        "\t\t    element.valor = $data.campus_selected.valor;",
        "\t\t    agregar=false",
        "\t\t    break;",
        "\t\t}",
        "\t\t",
        "\t}",
        "\tif(agregar){",
        "     $data.datatoFilter.lstFiltro.push({",
        "            \"columna\": \"CAMPUS\",",
        "            \"operador\": \"Igual a\",",
        "            \"valor\": $data.campus_selected.valor",
        "        })",
        "\t    ",
        "\t}",
        "     return false;",
        " }"
      ],
      "exposed" : false
    },
    "lstCampusRole" : {
      "type" : "expression",
      "value" : [
        "var lstData = []\r",
        "var objData = {}\r",
        "for(var index in $data.lstCatCampus){\r",
        "\tobjData = {\r",
        "\t\t\"descripcion\":\"\",\r",
        "\t\t\"valor\":\"\"\r",
        "\t}\r",
        "\tobjData[\"descripcion\"] = $data.lstCatCampus[index].descripcion;\r",
        "\tobjData[\"valor\"] = $data.lstCatCampus[index].grupoBonita;\r",
        "\tlstData.push(objData);\r",
        "}\r",
        "return lstData;"
      ],
      "exposed" : false
    },
    "lstComparadorCampus" : {
      "type" : "expression",
      "value" : [
        "var resultado = [];",
        "",
        "/*for(var i in $data.lstCatCampus){",
        "    $data.lstCatCampus[i].descripcion",
        "}*/",
        "",
        "return resultado;"
      ],
      "exposed" : false
    },
    "lstCampusUsuario" : {
      "type" : "expression",
      "value" : [
        "var resultado = [];\r",
        "\r",
        "for(var x in $data.lstCampusByUser){\r",
        "    for(var index in $data.lstCampusRole){\r",
        "        if($data.lstCampusByUser[x] === $data.lstCampusRole[index].valor){\r",
        "            //resultado.push($data.lstCampusRole[index]);\r",
        "            let r2 = [];\r",
        "            r2.push({...$data.lstCampusRole[index],\"group_id\":$data.lstCampusByUser[x].id});\r",
        "            let i = 0;\r",
        "            resultado.forEach(value =>{\r",
        "            if(value.valor == r2[0].valor ){\r",
        "            i++;\r",
        "            }\r",
        "            });\r",
        "            if(i === 0){\r",
        "            resultado.push({...$data.lstCampusRole[index],\"group_id\":$data.lstCampusByUser[x].id});\r",
        "            }\r",
        "        }\r",
        "    }\r",
        "}\r",
        "\r",
        "return resultado;"
      ],
      "exposed" : false
    },
    "datatoFilter" : {
      "type" : "expression",
      "value" : [
        "return {\r",
        "    \"lstFiltro\": $data.lstFiltros,\r",
        "    \"usuario\":$data.userData.user_name,\r",
        "    \"orderby\":\"\",\r",
        "    \"orientation\":\"DESC\",\r",
        "    \"limit\":20,\r",
        "    \"offset\":0\r",
        "};"
      ],
      "exposed" : false
    },
    "lstFiltros" : {
      "type" : "json",
      "value" : [
        "[]"
      ],
      "exposed" : false
    },
    "paletteColors" : {
      "type" : "url",
      "value" : [
        "/bonita/API/extension/AnahuacRestGet?url=getPaletteColor&p=0&c=10"
      ],
      "exposed" : false
    },
    "psicologosHorarios" : {
      "type" : "constant",
      "value" : [
        "principal"
      ],
      "exposed" : false
    }
  },
  "hasValidationError" : false,
  "uuid" : "9e8c5226-d6aa-43f9-b824-14e361113e4e",
  "type" : "page",
  "description" : "Page generated with Bonita UI designer"
}